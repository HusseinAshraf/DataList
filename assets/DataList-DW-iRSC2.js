const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SideBar-C79GYLUt.js","assets/index-C5zx14qq.js","assets/index-B0LD49Z1.css","assets/index-CwFxi8YY.js","assets/iconBase--OrQMHt-.js","assets/Helmet-Be2S_ECT.js","assets/LanguageSwitcher-DtUQZ2Nk.js"])))=>i.map(i=>d[i]);
import{c as N,g as ee,r as o,u as te,j as t,R as U,_ as X}from"./index-C5zx14qq.js";import{u as re,H as ae,a as ne}from"./Helmet-Be2S_ECT.js";var W,V;function se(){if(V)return W;V=1;var s="Expected a function",b=NaN,L="[object Symbol]",C=/^\s+|\s+$/g,D=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,w=/^0o[0-7]+$/i,d=parseInt,O=typeof N=="object"&&N&&N.Object===Object&&N,F=typeof self=="object"&&self&&self.Object===Object&&self,A=O||F||Function("return this")(),k=Object.prototype,M=k.toString,R=Math.max,$=Math.min,j=function(){return A.Date.now()};function r(e,n,l){var y,v,_,p,i,m,S=0,H=!1,T=!1,P=!0;if(typeof e!="function")throw new TypeError(s);n=h(n)||0,c(l)&&(H=!!l.leading,T="maxWait"in l,_=T?R(h(l.maxWait)||0,n):_,P="trailing"in l?!!l.trailing:P);function z(a){var u=y,E=v;return y=v=void 0,S=a,p=e.apply(E,u),p}function K(a){return S=a,i=setTimeout(I,n),H?z(a):p}function Q(a){var u=a-m,E=a-S,J=n-u;return T?$(J,_-E):J}function q(a){var u=a-m,E=a-S;return m===void 0||u>=n||u<0||T&&E>=_}function I(){var a=j();if(q(a))return G(a);i=setTimeout(I,Q(a))}function G(a){return i=void 0,P&&y?z(a):(y=v=void 0,p)}function Y(){i!==void 0&&clearTimeout(i),S=0,y=m=v=i=void 0}function Z(){return i===void 0?p:G(j())}function B(){var a=j(),u=q(a);if(y=arguments,v=this,m=a,u){if(i===void 0)return K(m);if(T)return i=setTimeout(I,n),z(m)}return i===void 0&&(i=setTimeout(I,n)),p}return B.cancel=Y,B.flush=Z,B}function c(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function x(e){return!!e&&typeof e=="object"}function f(e){return typeof e=="symbol"||x(e)&&M.call(e)==L}function h(e){if(typeof e=="number")return e;if(f(e))return b;if(c(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=c(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(C,"");var l=g.test(e);return l||w.test(e)?d(e.slice(2),l?2:8):D.test(e)?b:+e}return W=r,W}var oe=se();const ie=ee(oe),ce=o.memo(U.lazy(()=>X(()=>import("./SideBar-C79GYLUt.js"),__vite__mapDeps([0,1,2,3,4,5])))),le=o.memo(U.lazy(()=>X(()=>import("./LanguageSwitcher-DtUQZ2Nk.js"),__vite__mapDeps([6,1,2,3,4,5]))));function fe(){const{t:s}=re(),[b,L]=o.useState([]),[C,D]=o.useState(!0),[g,w]=o.useState(""),[d,O]=o.useState(null),F=te(),A=o.useMemo(()=>["Common Stock","Cryptocurrency","Exchange traded commodity","Exchange traded fund","Fund","Index","Commodity","Mutual fund"],[]);o.useEffect(()=>{(async()=>{try{const c=localStorage.getItem("exchangeData"),x=localStorage.getItem("exchangeDataTimestamp"),f=new Date().getTime();if(c&&x&&f-x<=36e5)L(JSON.parse(c));else{const e=(await ne.get("/exchange.json")).data.hits.hits.map(n=>n._source);e.length>0&&(localStorage.setItem("exchangeData",JSON.stringify(e)),localStorage.setItem("exchangeDataTimestamp",f),L(e))}}catch(c){console.error("Error fetching exchange data:",c)}finally{D(!1)}})()},[]);const k=o.useMemo(()=>b.filter(r=>{var f,h;const c=d?((f=r.type)==null?void 0:f.toLowerCase())===d.toLowerCase():!0,x=g?(h=r.name)==null?void 0:h.toLowerCase().includes(g.toLowerCase()):!0;return c&&x}),[b,g,d]),M=o.useCallback(ie(r=>w(r),300),[]),R=r=>O(r),$=r=>F(`/details/${r}`),j=`Find the best exchange data based on your search for "${g}"${d?` and filter by ${d}`:""}.`;return t.jsxs(t.Fragment,{children:[t.jsxs(ae,{children:[t.jsx("title",{children:s("dataList")}),t.jsx("meta",{name:"description",content:j})]}),t.jsx("div",{className:"md:block w-64",children:t.jsx(o.Suspense,{fallback:t.jsx("div",{children:"Loading sidebar..."}),children:t.jsx(ce,{types:A,onFilterChange:R,selectedFilter:d})})}),t.jsxs("div",{className:"sm:ml-64 overflow-auto p-6 dark:bg-gray-900",children:[t.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center mb-6 space-y-4 md:space-y-0",children:[t.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-extrabold text-gray-800 dark:text-gray-200",children:s("dataList")}),t.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[t.jsx("input",{type:"text",placeholder:s("searchPlaceholder"),onChange:r=>M(r.target.value),className:"w-full sm:w-1/2 lg:w-1/3 px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none"}),t.jsx(o.Suspense,{fallback:t.jsx("div",{children:"Loading language switcher..."}),children:t.jsx(le,{})})]})]}),C?t.jsx("div",{children:"Loading..."}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:k.length>0?k.map(r=>t.jsxs("div",{className:"flex flex-col items-start bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 cursor-pointer hover:shadow-xl hover:scale-105 transition-transform duration-300",onClick:()=>$(r.symbol),children:[t.jsx("strong",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:r.name||s("notAvailable")}),t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["(",r.symbol,")"]}),t.jsxs("div",{className:"mt-4 text-sm text-gray-700 dark:text-gray-300",children:[t.jsxs("p",{children:[s("type"),": ",r.type||s("notAvailable")]}),t.jsxs("p",{children:[s("country"),": ",r.country||s("notAvailable")]}),t.jsxs("p",{children:[s("currency"),": ",r.currency||s("notAvailable")]})]})]},r.symbol)):t.jsx("p",{className:"text-center text-gray-500",children:s("noData")})})]})]})}export{fe as default};
